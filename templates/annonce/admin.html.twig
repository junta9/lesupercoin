{% extends 'base.html.twig' %} {% block body %}
<section class="py-5 w-100">
  <div class="container px-4 mt-5">
    <h2>Toutes les données</h2>
    {# Affichage du message flash #} 
    {% for message in app.flashes('add_success') %}
    <div class="alert alert-success alert-dismissible fade show">
      {{ message }}
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    {% endfor %} 
    {% for message in app.flashes('edit_success') %}
    <div class="alert alert-warning alert-dismissible fade show">
      {{ message }}
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    {% endfor %}
     {% for message in app.flashes('delete_success') %}
    <div class="alert alert-danger alert-dismissible fade show">
      {{ message }}
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    {% endfor %}
    <table class="table">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">titre</th>
          <th scope="col">description</th>
          <th scope="col">image</th>
          <th scope="col">prix</th>
          <th scope="col">actions</th>
        </tr>
      </thead>
      <tbody>
        {% for annonce in annonces %}
        <tr>
          <th scope="row">{{ annonce.id }}</th>
          <td>{{ annonce.title }}</td>
          <td>{{ annonce.content }}</td>
          <td>
            <img
              src="{{ annonce.image }}"
              alt=""
              class="img-fluid"
              width="100px"
            />
          </td>
          <td>{{ annonce.prix }} €</td>
          <td>
            <a
              href="{{ path('annonce_edit', { id: annonce.id }) }}"
              class="btn btn-warning"
              >Modifier</a
            >
            <a
              href="{{ path('annonce_delete', { id: annonce.id }) }}"
              class="btn btn-danger"
              >Supprimer</a
            >
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</section>
{% endblock %}
